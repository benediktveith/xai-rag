KGRAG-Ex: Explainable Retrieval-Augmented
Generation with Knowledge Graph-based
Perturbations

Abstract. Retrieval-Augmented Generation (RAG) enhances language
models by grounding responses in external information, yet explainabil-
ity remains a critical challenge—particularly when retrieval relies on un-
structured text. Knowledge graphs (KGs) offer a solution by introducing
structured, semantically rich representations of entities and their rela-
tionships, enabling transparent retrieval paths and interpretable reason-
ing. In this work, we present KGRAG-Ex, a RAG system that improves
bothfactualgroundingandexplainabilitybyleveragingadomain-specific
KG constructed via prompt-based information extraction. Given a user
query, KGRAG-Ex identifies relevant entities and semantic paths in the
graph, which are then transformed into pseudo-paragraphs—natural lan-
guage representations of graph substructures that guide corpus retrieval.
To improve interpretability and support reasoning transparency, we in-
corporate perturbation-based explanation methods that assess the influ-
ence of specific KG-derived components on the generated answers. We
conduct a series of experiments to analyze the sensitivity of the sys-
tem to different perturbation methods, the relationship between graph
component importance and their structural positions, the influence of
semantic node types, and how graph metrics correspond to the influence
of components within the explanations process.
Keywords: Knowledge-Graphs (KGs)· Retrieval-Augmented Genera-
tion (RAG)· Explainability· Large Language Model (LLMs)
1 Introduction
Large Language Models (LLMs) [10] have demonstrated strong performance
acrossnumerousnaturallanguageprocessingtasks,includingquestionanswering
(QA) [7], summarization [15], and dialogue generation [16]. While LLMs excel
at generating fluent and contextually relevant text, their reliance on internal-
ized knowledge can lead to factual errors and untraceable reasoning. To mitigate
this, Retrieval-Augmented Generation (RAG) [9] combines LLMs with external
document retrieval, grounding responses in up-to-date information drawn from
large corpora. However, RAG systems typically offer limited visibility into how
2 G. Balanos et al.
retrieved content influences the output of the model, raising concerns in settings
where outputs must be auditable, interpretable, and verifiable.
Explainability in RAG has thus become a key focus of recent research. Ap-
proaches such as [12] and [11] use perturbation-based techniques to analyze how
altering parts of the input—such as retrieved documents or query terms—affects
the final output. These methods provide insights into the importance of specific
elements in the context, helping to trace the decision-making process of the
model. However, they primarily operate on unstructured text and offer limited
access to explicit reasoning pathways or underlying semantic structures. Addi-
tionally, these techniques can be computationally expensive, which limits their
scalability and practicality in real-world deployments.
In this work, we propose KGRAG-Ex, a novel system that enhances explain-
ability in RAG by integrating structured knowledge graphs (KGs) [17] into the
retrieval and generation pipeline [3]. The system processes user queries to iden-
tify relevant entities, constructs semantic paths through the KG, and converts
these paths into natural language pseudo-paragraphs that guide document re-
trieval. Thesestructuredrepresentationsprovideatransparentlayerofreasoning
that complements the unstructured evidence retrieved from external sources.
A key novelty of our approach lies in combining structured retrieval via
knowledge graph paths with targeted perturbations at the path level to analyze
and explain model outputs. Unlike previous perturbation-based methods that
primarily operate on unstructured text, our method leverages explicit reasoning
pathways embedded in knowledge graphs to provide more transparent, faithful,
and fine-grained explanations. This integration enhances interpretability while
alsoimprovingcomputationalefficiencyandscalability,makingitespeciallysuit-
able for applications requiring auditable and trustworthy reasoning.
We perform perturbations by removing nodes, edges, or sub-paths. By modi-
fying nodes, edges, or sub-paths, we evaluate how these structural changes influ-
encetheoutputofthemodel.ThisKG-focusedperturbationapproachprovidesa
more comprehensive and fine-grained view of model behavior, highlighting which
elements of the graph-based reasoning process are most critical. Furthermore,
by isolating the impact of specific graph components, KGRAG-Ex enhances in-
terpretability without relying on text-level perturbations, as in previous work.
Perturbations at the path level tend also to be more cost-efficient than perturna-
tionsatthetextlevel,makingtheframeworkparticularlysuitableforhigh-stakes
domains where reasoning traceability is essential.
Finally, we conduct experiments to analyze the sensitivity to different per-
turbation methods, the influence of semantic node types, and the relationship
between graph component importance, their structural positions in the paths
and centrality measures in the KG. We also compare the efficiency of our ap-
proach to text-based perturbation methods.
The remainder of this paper is structured as follows. Section 2 reviews related
work. Section 3 describes our method for knowledge graph construction and
retrieval, and Section 4 presents our perturbation-based explanation framework.
Section 5 reports experimental results, and Section 6 concludes the paper.
KGRAG-Ex: Explainable RAG with KG-based Perturbations 3
2 Related Work
Large language models (LLMs) have been used to extract structured representa-
tions—such as entity–relation–entity triples—from unstructured text, enabling
the construction of dynamic knowledge graphs to guide retrieval and reasoning
[17]. Query2doc [13] demonstrates how LLMs can be prompted to expand sparse
queries into detailed pseudo-documents. In this paper, rather than a generic ex-
pansion, we extend this approach by generating structured pseudo-paragraphs
based on the extracted entities and their connected paths within the KG. These
paragraphs are then combined into a pseudo-document that serves as a context-
rich input to guide retrieval.
Recent advancements in explaining Retrieval-Augmented Generation (RAG)
models have been addressed by works such as [12] and [11]. RAG-Ex [12] in-
troduces a model- and language-agnostic framework that provides approximate
explanations for why large language models (LLMs) generate specific responses
inRAG-basedquestionansweringtasks.Byemployingperturbation-basedmeth-
ods, RAG-Ex identifies critical tokens whose removal significantly alters the out-
put, offering insights into the decision-making process of LLMs. In contrast,
RAGE [11] focuses on the provenance of external knowledge sources used dur-
ing RAG. It employs counterfactual explanations by systematically removing
or reordering retrieved documents to observe changes in the model’s responses,
thereby highlighting the influence of specific sources on the generated answers.
Our work is situated within a broader landscape of explainability in NLP.
Surveys such as [4] provide a comprehensive taxonomy of explanation methods
in NLP, while [1] reviews interpretability techniques for large language models
(LLMs),includingprompt-basedandretrieval-augmentedmodels.Morerecently,
[2] explores how probing and intervention methods can be applied to under-
stand the internal mechanisms of LLMs, offering complementary perspectives
to perturbation-based explanations. Building on prior work such as RAG-Ex
andRAGE,whichapplyperturbation-basedtechniquestounstructuredretrieval
anddocumentprovenance,respectively,ourapproach—KGRAG-Ex—introduces
structured, graph-based retrieval via knowledge graphs. This enables more in-
terpretable reasoning paths and targeted perturbation of graph-derived informa-
tion, leading to more focused and transparent explanations.
3 Knowledge Graph Construction and Retrieval
To support structured retrieval and enhance reasoning transparency, we con-
struct a domain-specific knowledge graph - focusing on the medical domain in
this paper - directly from raw textual data. Given a user query, we extract rel-
evant paths from the knowledge graph and convert them into contextual input
for RAG.
Knowledge-Graph Construction. To construct the knowledge graph, consistent
with existing studies in retrieval-augmented generation (RAG) (Lewis et al.,
4 G. Balanos et al.
2020 [8]; Gao et al., 2023 [6]; Fan et al., 2024 [5]), each document is divided into
smaller chunks, respecting a predefined chunk size. For each chunk, we prompt
a large language model (LLM), to extract factual information in the form of
(Entity, Relationship, Entity) triplets as in [17]. Additionally, the LLM assigns
a semantic label to each extracted entity (node), such as Disease, Body Part,
or Medication, to enrich the graph with meaningful categories. Each extracted
triplet is annotated with metadata, including the document identifier and the
chunk index, enabling traceability and contextual alignment within the source
corpus. The construction is illustrated in Figure 1.
The aortic valve lies between the left ventricle and the aorta,
regulating blood flow from the heart to the systemic circulation.
Usually, the aortic valve consists of 3 cusps—the right
coronary cusp (RCC), left coronary cusp (LCC), and
noncoronary cusp (NCC). These cusps open during systole to
allow blood flow into the aorta and close during diastole to
prevent backflow into the left ventricle. In adults, the normal
aortic valve area is 3 to 4 cm². Anatomical variants such as the
bicuspid aortic valve, present in 1% to 2% of the population,
can complicate MAVR procedures. [3] left
part of
ventricle aorta
Triplet Metadata
Source: article-610.jsonl
Chunk ID: 4896c83aadca6ec82c8a919522a12af89f282c99c9b24d837f28281c90d45ba2
Fig.1: Triplet extraction.
Retrieval from the Knowledge Graph. To retrieve relevant information from the
knowledge graph, we first extract a set of (Entity, Relationship, Entity) triplets
from the user query using an LLM. This step ensures that the query is trans-
formed into a structured form that aligns with the format of the knowledge
graph. Entities mentioned in the query are identified and grounded to their
corresponding nodes in the graph. Once the relevant entities are identified, we
perform graph traversal to determine the shortest paths between them within
the knowledge graph. This process uncovers the intermediate nodes and rela-
tions that connect the query-relevant entities, allowing us to identify semanti-
cally meaningful subgraphs. If no shortest path is found between the extracted
entities, a fallback mechanism is implemented where regular retrieval methods
(without using the knowledge graph) are applied to ensure robust information
access. The resulting graph structure includes not only the semantic connections
between entities but also metadata such as the source filename and chunk ID
for each edge. This additional information enhances traceability, allowing each
element of the graph to be linked back to its original location in the source
documents.
An example of the retrieval process, applied to our running example of a
medical dataset with multiple-choice QA, is presented in Table 1, which displays
KGRAG-Ex: Explainable RAG with KG-based Perturbations 5
first the user query and the available options. For this specific query, we iden-
tified the shortest path from pulmonary hypoplasia to oligohydramnios. Each
triplet in the derived path includes the source file names, thereby enhancing the
traceability of our system.
Table 1: A retrieval example: the initial user-query, the selected option, the
retrieved path, and and related sources.
Query A baby born with pulmonary hypoplasia secondary to
oligohydramnios caused by renal agenesis would be clas-
sified as having
Options:
A. an association C. a sequence B. a dysplasia
D. a syndrome
Selected Option: A. an association
Retrieved Path - pulmonary hypoplasia IS RISK FACTOR FOR
−−−−−−−−−−−−−−−→persistent
pulmonary hypertension in the newborn
- persistent pulmonary hypertension in the newborn
HAS RISK FACTOR
−−−−−−−−−−−−−→oligohydramnios
Sources: Article source: article-27634.jsonl
Article source: article-22355.jsonl
Transforming Knowledge Graph Paths into RAG Context. We construct a con-
text as a means of translating structured data into a form amenable to language-
basedmodels.Theprocessbeginswiththegenerationofpseudo-paragraphsfrom
structured paths —such as sequences of nodes, concepts, or semantic transitions.
Each pseudo-paragraph captures the meaning of its corresponding path in nat-
ural language, serving as a textual proxy for the underlying structure.
Once a collection of pseudo-paragraphs has been generated, these are con-
catenated to form a single context. This context integrates information from
multiplepaths,providingaunifiedtextualrepresentationthatreflectstheoverall
semanticsofthestructuredsource.Byconvertingstructuredinputsintocoherent
natural language, this method enables the effective use of large language models
and other NLP systems for tasks involving structured or semi-structured data.
The resulting textual context is then used as input for retrieval-augmented gen-
eration (RAG), providing relevant and comprehensive information to improve
the performance of downstream language tasks.
Figure 2 illustrates our proposed pipeline. This includes entity extraction
from the user query, computation of the derived shortest paths, generation of
pseudo-paragraphs, and augmentation of the RAG context.
6 G. Balanos et al.
Query
"What is the relationship between diabetes
and cardiovascular disease, and what are
common treatments for both?"
Pseudo-Paragraphs
4
1. "Diabetes is a significant risk factor for
cardiovascular disease."
2. "Cardiovascular disease often coexists
with diabetes."
2
1
Search for shortest path
between entities in KG
Diabetes
5
Extract Entities
RAG
Context
Cardiovascular
Disease
Knowledge
Graph
3
6
Shortest Path Between "Diabetes" and
"Cardiovascular Disease"
1. <Diabetes, "is_a_risk_factor_for", Cardiovascular Disease>
2. <Cardiovascular Disease, "often_coexists_with", Diabetes>
3. <Diabetes, "can_lead_to", Atherosclerosis>
4. <Atherosclerosis, "is_a_type_of", Cardiovascular Disease>
Response
Fig.2: The proposed pipeline. Graph-level perturbations are applied at Step 3.
4 Explanations through Knowledge Graph Perturbations
To generate explanations, we apply perturbations to the retrieved knowledge
graph context by selectively removing elements at varying levels of granularity,
this includes individual nodes, edges, or entire sub-paths. The motivation behind
this approach is to identify which components of the knowledge graph are most
influential in the reasoning process. By systematically deleting specific elements
and observing the resulting changes in model predictions or outputs, we can infer
their importance: if removing a component significantly alters the outcome, it
suggests that the component plays a critical role. These controlled perturbations
enable us to assess the semantic contribution of each part of the reasoning chain,
ultimately facilitating the generation of faithful and interpretable explanations.
Since every graph component is—directly or indirectly—annotated with meta-
data during knowledge graph construction, these perturbation methods also en-
hance the traceability of the model by linking important elements—nodes, edges,
or sub-paths—back to their sources.
Node-Level Perturbations. In this perturbation method, we remove one node
from the derived path while keeping all other elements unchanged. By compar-
ing the output of the model with and without the node, we can estimate the
contribution of each entity to the final response. Furthermore, since every node is
labeled with a semantic category during the knowledge graph construction (e.g.
Disease, Medication, Body Parts), this analysis reveals not only which individual
nodes are influential, but also which types of information the model relies on the
most. This may offer insights into the semantic reasoning patterns of the model
and help identify the categories of knowledge that drive its outputs.
Edge-Level Perturbations. In this method, each perturbation corresponds to the
removal of a single edge from the derived path, disconnecting two semantically
KGRAG-Ex: Explainable RAG with KG-based Perturbations 7
related nodes. While node-level perturbations highlight important entities, edge-
level perturbations reveal how the model fills the semantic space between them,
that is, how it connects these entities through meaningful relationships. Since
edges often represent actions or associations (e.g., IS DETECTED BY, IS AF-
FECTED BY), their removal helps identify which specific relations are most
critical to reasoning. In many cases, this points to the key interaction or action
that drives the response to a given query.
Sub-path-Level Perturbations. For sub-path-level perturbations, we remove a
sub-path, typically a triplet, from the derived path. Compared to node- and
edge-level perturbations, these changes tend to have a greater impact on the
reasoning path, as they involve the removal of multiple elements at once.
Table 2: Example perturbations on the retrieved path shown in Table 1.
Path after Node
Perturbation
Removed Node: persistent pulmonary hyperten-
sion in the newborn
- pulmonary hypoplasia IS RISK FACTOR FOR
−−−−−−−−−−−−−−−→
HAS RISK FACTOR
-
−−−−−−−−−−−−−→oligohydramnios
Selected Option C. a sequence
Path after Edge
Perturbation
Removed Edge: HAS RISK FACTOR
- pulmonary hypoplasia IS RISK FACTOR FOR
−−−−−−−−−−−−−−−→persistent
pulmonary hypertension in the newborn
- persistent pulmonary hypertension in the newborn –
oligohydramnios
Selected Option C. a sequence
Path after Subpath
Perturbation
Removed Subpath:
persistent pulmonary hypertension in the newborn
HAS RISK FACTOR
−−−−−−−−−−−−−→oligohydramnios
- pulmonary hypoplasia IS RISK FACTOR FOR
−−−−−−−−−−−−−−−→persistent
pulmonary hypertension in the newborn
Selected Option A. an association
Article Sources article-27634.jsonl
article-22355.jsonl
Explanation shown to
user
The most important condition for answering the question
is Persistent Pulmonary Hypertension in the Newborn. It
had the biggest impact on the result.
System insight
(technical)
Removing Persistent Pulmonary Hypertension in
the Newborn led to a different answer 2 times, in-
dicating it is a highly influential entity in the reasoning
path. Removing Oligohydramniosled to a different an-
swer 1 time, showing it has a moderate impact on the
final answer.
8 G. Balanos et al.
AnexampleisshowninTable2.Weincludeoneexampleofeachperturbation
method and the selected option after the perturbation. We provide two types
of explanations, one is targeting end users and the other one is more technical.
The explanation shown to the end user is the most influential graph element,
identified as the one that causes the most changes in the output of the model
across the different perturbations, e.g., the one that appears in most of them. In
this example, this is persistent pulmonary hypertension in the newborn. We also
report technical details for developers. Finally, we obtain the source filename
from which persistent pulmonary hypertension in the newborn was extracted,
further improving traceability by revealing the origin of the most influential
context elements.
5 Experiments
In our evaluation, we utilized the StatPearls corpus along with two established
benchmarks: MedMCQA and MMLU [14]. MedMCQA is a multiple–choice ques-
tion –answering dataset derived from real medical entrance exams, focusing on
clinical and factual medical knowledge. MMLU (Massive Multitask Language
Understanding) complements this by offering a wide-ranging evaluation across
57 subjects, including medicine, law, mathematics, and more. Both MedMCQA
and MMLU consist of multiple-choice questions with four options, enabling con-
sistent evaluation of model reasoning across specialized (medical) and general
knowledge domains.
Due to computational and token-related costs (API token limits) associated
with large-scale language model usage, the KG was built from a subset of the full
corpus. Table 3 summarizes key statistics of the constructed knowledge graph
and document corpus, as well as the distribution of entity labels assigned during
preprocessing.
The code and data used in our experiments are publicly available3
.
5.1 Evaluation of the Proposed Methodology
Togaindeeperinsightsintotheeffectivenessofourgraphperturbationstrategies,
we conduct experiments to address the following research questions:
RQ1: How sensitive is the system to each perturbation method?
RQ2: Is there a correlation between perturbed graph elements and their
relative positions?
RQ3: Which types of nodes, based on their assigned semantic labels, are
most critical in the generation process?
RQ4: How do graph centrality metrics (e.g., node degree, edge betweenness)
relate to the significance of elements within the derived paths?
3 https://github.com/george-balanos/KGRAG-Ex
KGRAG-Ex: Explainable RAG with KG-based Perturbations 9
Table 3: Knowledge Graph and Corpus
Document Corpus
Entity Label Percentage (%)
Total documents 9,552
Total text chunks Average chunks per document Standard deviation Min chunks per document 5
Max chunks per document 445,454
46.63
28.58
556
Knowledge Graph
Total nodes 53,411
Total edges Average in-degree Average out-degree Average total degree 133,287
2.495
2.495
4.990
Diseases Risk Factors Symptoms Diagnostic Tests Treatments Body Parts Medications Unknown 30.73
8.50
17.71
9.29
14.97
11.81
6.83
0.16
Evaluating the relative effect of the the graph perturbation methods.
To assess how different types of graph component removals influence the gener-
ated output, we evaluate the sensitivity of the model to different perturbations.
Specifically, for each example, we generate and apply multiple perturbations
across three types: removing individual nodes, removing edges, and removing
sub-paths consisting of triplets of nodes.
Each perturbation is applied independently, and we observe whether it leads
toachangeinthegeneratedoutput.Foreachexample,wecomparethefrequency
of output changes caused by the different perturbation types to determine which
type has the greatest influence. By repeating this process across the full evalu-
ation set, we identify which type of graph modification tends to have the most
significantimpact.Table4presentsthesefindingsontheMedMCQAandMMLU
datasets, showing that sub-path removals generally have the strongest impact,
followed by node and edge removals. This observation aligns with our expec-
tations, since sub-path removal tends to induce the most changes within the
corresponding path.
Table 4: Impact of perturbation methods across datasets
Dataset Perturbation Examples Node Impact Edge Impact Sub-path Impact
MedMCQA 128 41 30 57
MMLU 37 6 8 23
Exploring the role of perturbation position along the retrieved path.
In this experiment, we analyze the relationship between critical perturbations
– i.e., perturbations that lead to output changes – and their relative position
in the shortest path. To enable consistent comparison across paths of different
10 G. Balanos et al.
lengths, we normalize the position of each perturbed node, edge, or sub-path on
a scale from 0 (start of the path) to 1 (end of the path). This normalization is
essential for identifying positional trends independent of absolute path length.
Our experimental results, shown in Figure 3, suggest that perturbations oc-
curring closer to the beginning of the path are more likely to cause significant
changes in the generated output. This trend holds consistently across node, edge,
and sub-path removals, in both datasets, indicating that early components in the
path play a pivotal role in maintaining the stability of the solution. This trend is
consistent with the design of our methodology, where the shortest path is com-
puted from a designated start node to a fixed end node–both typically extracted
from the user query and therefore semantically important. The influence of per-
turbations located in the middle or toward the end of the path is more variable,
with no strong or consistent effect observed.
Critical Change Count
10
8
6
4
2
0
10
8
6
4
2
0
20.0
17.5
15.0
12.5
10.0
7.5
5.0
2.5
0.0
0.0 0.2 0.4 0.6 0.8
Relative Position
0.0 0.2 0.4 0.6 0.8
Relative Position
0.0 0.2 0.4 0.6 0.8
Relative Position
Critical Change Count
70
60
50
40
30
20
10
0
40
30
20
10
0
60
50
40
30
20
10
0
0.0 0.2 0.4 0.6 0.8
Relative Position
0.0 0.2 0.4 0.6 0.8
Relative Position
0.0 0.2 0.4 0.6 0.8
Relative Position
(a) Node Positions
(b) Edge Positions
(c) Subpath Positions
Fig.3: Distribution of Critical Changes by Perturbation Position across
datasets. Top: MMLU. Bottom: MedMCQA.
Assessing node significance via label analysis. Our knowledge graph in-
cludes labels for each node, such as Disease, Drug, Symptom, reflecting the
semantic roles of different concepts within the graph. To understand the impor-
tance of these node types, we further analyzed how critical perturbations–those
that cause output changes–are distributed across these labels. Specifically, we
investigated whether certain categories of nodes are more likely to disrupt the
output when removed.
KGRAG-Ex: Explainable RAG with KG-based Perturbations 11
We analyzed which node labels often triggered output changes. As shown in
Figure 4, Disease, Symptom, and Body Part consistently emerged as the most
impactful across both MMLU and MedMCQA, highlighting their key role in
modelreasoning.Moregeneralorperipherallabelsappearedlessoften,indicating
a weaker influence on output stability.
By leveraging these node labels, our evaluation not only identifies struc-
turally important components but also uncovers the semantic roles that drive
the model behavior. This layer of interpretability allows us to better understand
why certain perturbations matter–linking changes in output to specific domain-
relevant concepts–thereby grounding our explanations in both graph structure
and real-world meaning.
Analyzing graph centrality metrics of important elements. We now
examine the relationship between the centrality of the elements in the KG and
their importance in the query result.
Analyzing the degree of important nodes in the retrieved path. The degree of a
node can serve as a proxy for its importance within a knowledge graph. Highly
connected nodes often function as central hubs whose removal may significantly
alter the graph structure, while nodes with low degree can represent rare or
specific entities that help differentiate context. In this analysis, we examine the
degree of the identified important nodes within the derived shortest path to
understand their structural roles and contextual relevance.
To enable a normalized comparison between important nodes and all other
nodes in the path, we ranked each node based on its degree, as shown in Figure
5. Across both datasets, nodes with the highest degree in the path (relative rank
equal to 0) and those with the lowest degree (relative rank equal to 1) appear
to impact the output response the most. As expected, central hubs and rare,
context-specific nodes both play critical roles in guiding reasoning.
Examining the betweenness of important edges in the retrieved path. While node
degreecaptureslocalconnectivity,edgebetweennesscentralityreflectstheroleof
an edge in maintaining global graph flow. Edges with high betweenness are often
Label Frequency
17.5
15.0
12.5
10.0
7.5
5.0
2.5
0.0
120
100
80
60
40
20
0
Body Part
Diagnostic Test
Disease
Drug
Medication
Node Label
Risk Factor
Symptom
Treatment
Body Part
Diagnostic Test
Disease
Education
Individual
Medication
Node Label
Risk Factor
Symptom
Treatment
(a) MMLU
(b) MedMCQA
Fig.4: Distribution of critical changes by node labels across both datasets.
12 G. Balanos et al.
Frequency
50
40
30
20
10
0
8
6
Frequency
4
2
0
0.0 0.2 0.4 0.6 0.8 1.0
Relative Rank (0 = highest degree, 1 = lowest)
0.0 0.2 0.4 0.6 0.8 1.0
Relative Rank (0 = highest degree, 1 = lowest)
(a) MedMCQA
(b) MMLU
Fig.5: Relative rank distribution of important nodes across two datasets, based
on each node degree within the derived path.
Frequency
30
25
20
15
10
5
0
Frequency
7
6
5
4
3
2
1
0
0.0 0.2 0.4 0.6 0.8 1.0
Relative Rank (0 = highest betweenness, 1 = lowest)
0.0 0.2 0.4 0.6 0.8 1.0
Relative Rank (0 = highest betweenness, 1 = lowest)
(a) MedMCQA
(b) MMLU
Fig.6: Relative rank distribution of important edges across two datasets, based
on each edge betweenness score.
critical conduits for information, lying on many of the shortest paths between
pairs of nodes. In the context of our derived shortest paths, we examine the
betweenness centrality of the identified important edges to assess their structural
significance.
To compare their importance against others within the same path, we com-
pute the relative ranks of each edge based on betweenness centrality. As shown
in Figure 6, the most impactful edges tend to occupy either extreme of the
rank distribution–those with the highest betweenness (relative rank equal to 0)
and those with the lowest (relative rank equal to 1). In this case, we observe
a marginal increase in the concentration of important edges at rank 0 across
both datasets, indicating a slight bias toward high-betweenness edges. This sug-
gests that central edges–those frequently traversed in shortest paths–may have
greater influence on the output, whereas low-betweenness edges may still play a
complementary role by capturing niche or context-dependent relationships.
Evaluating the structural characteristics of important sub-paths. Once important
sub-pathshavebeenidentified,wefurthercharacterizetheirstructuralproperties
using a custom scoring function. Each sub-path is defined as a triplet consisting
of two nodes and the connecting edge. For each important sub-path, we compute
a score defined as the ratio of the edge betweenness centrality to the sum of the
degrees of the two incident nodes:
KGRAG-Ex: Explainable RAG with KG-based Perturbations 13
Frequency
40
30
20
10
0
Frequency
10
8
6
4
2
0
0.0 0.2 0.4 0.6 0.8 1.0
Relative Rank (0 = highest rank)
0.0 0.2 0.4 0.6 0.8 1.0
Relative Rank (0 = highest rank)
(a) MedMCQA
(b) MMLU
Fig.7: Relative rank distribution of important sub-paths across two datasets,
based on sub-path score.
Subpath Score=
Betweenness of the Edge
Degree of Node1 + Degree of Node2
(1)
By normalizing edge betweenness by the degrees of the connected nodes, this
score balances global edge centrality with local node specificity. It serves as a
useful heuristic to highlight edges that play key structural roles while linking
less connected, and thus more contextually unique, nodes.
We rank all sub-paths within each retrieved path based on Eq. 1, assigning
relative ranks accordingly. Figure 7 illustrates the distribution of these ranks,
showing that sub-paths positioned at the extremes tend to exert the greatest
influence on the output of the model. This is consistent with the patterns seen
for nodes and edges. Overall, sub-paths with a high edge betweenness but low
combined node degrees represent structurally central connections linking con-
textually unique nodes, while those with low edge betweenness but high node
degrees indicate densely connected, but less structurally critical, parts of the
graph.
5.2 Comparative Analysis of KGRAG-Ex and RAG-Ex
Existingframeworks,suchasRAG-Ex[12],employperturbation-basedstrategies
to generate explanations within a RAG environment. The central idea involves
perturbing the RAG context and observing how these changes influence the
output of the system. However, these perturbations are applied exhaustively,
without a targeted or guided strategy, which significantly increases the overall
computational cost.
In our work, to address this limitation, we introduced graph-level perturba-
tion strategies, where modifications are performed by removing nodes, edges,
and sub-paths (i.e., triplets) from the shortest path we derive based on the user
query from our knowledge graph, rather than perturbing individual words or
sentences in the retrieved context. This allows us to operate at a higher seman-
tic level, focusing on structural elements that are more likely to influence the
output.
14 G. Balanos et al.
Table 5: Average LLM calls and tokens for RAG-Ex and KGRAG-Ex across
two datasets, MMLU and MedMCQA.
Method MMLU LLM Calls Tokens MedMCQA
LLM Calls Tokens
RAG-EX KGRAG-Ex 65 20 4032 2112 61 19 3661
2180.5
Difference 45 1920 42 1480.5
In this experiment, for RAG-Ex, we use a window size of 5, removing 5 to-
kens per perturbation. Smaller windows (removing 1–2 tokens) often had little
impact on output, while larger windows (removing whole chunks or paragraphs)
sometimes caused inconsistent effects, complicating reliable explanation genera-
tion. As shown in Table 5, using KGRAG-Ex results in a significant reduction in
the number of LLM calls and tokens consumed, leading to lower computational
overhead and reduced pricing costs.
6 Conclusions
In this work, we presented KGRAG-Ex, a retrieval-augmented generation sys-
tem that leverages knowledge graphs to improve both factual grounding and
interpretability. Through graph perturbation-based explanation methods, we
demonstrated how different components of the knowledge graph contribute to
the reasoningprocess ofthe model.Our experimentsprovideinsightsinto system
sensitivity, the role of semantic node types, and the relationship between graph
structure and explanation significance. Future work will explore extending the
approach to larger and more diverse datasets, and investigating alternative per-
turbation techniques, such as adding edges, changing the directions of existing
edges, and introducing non-existing nodes.